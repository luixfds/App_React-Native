{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\lfds\\\\OneDrive\\\\\\xC1rea de Trabalho\\\\pesquisa_opensource\\\\components\\\\login.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport * as React from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport firebase from \"./connFireBase\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nexport default function login(_ref) {\n  var navigation = _ref.navigation;\n\n  var _React$useState = React.useState(\"\"),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      User = _React$useState2[0],\n      setUser = _React$useState2[1];\n\n  var _React$useState3 = React.useState(null),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      Pass = _React$useState4[0],\n      setPass = _React$useState4[1];\n\n  var database = firebase.firestore();\n\n  var createAcc = function createAcc() {\n    firebase.auth().createUserWithEmailAndPassword(User, Pass).then(function (userCredential) {\n      var user = userCredential.user;\n    }).catch(function (error) {\n      setErrorLogin(true);\n      var errorCode = error.code;\n      var errorMessage = error.message;\n      console.log(errorMessage);\n    });\n  };\n\n  var authenticate = function authenticate() {\n    if (User !== null && Pass !== null) {\n      firebase.auth().signInWithEmailAndPassword(User, Pass).then(function _callee(userCredential) {\n        var user;\n        return _regeneratorRuntime.async(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _regeneratorRuntime.awrap(userCredential.user);\n\n              case 2:\n                user = _context.sent;\n                AsyncStorage.clear();\n                _context.next = 6;\n                return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"logedUser\", user.email));\n\n              case 6:\n                setUser(\"\");\n                setPass(\"\");\n                navigation.push(\"Home\");\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, null, null, null, Promise);\n      }).catch(function (error) {\n        var errorCode = error.code;\n        var errorMessage = error.message;\n        Alert.alert(\"Login Falhou\", \"Usuário ou senha inválido\", [{\n          text: \"OK\"\n        }]);\n      });\n    } else {\n      Alert.alert(\"Login Falhou\", \"Preencha Todos os campos\", [{\n        text: \"OK\"\n      }]);\n    }\n  };\n\n  React.useEffect(function () {\n    setUser(\"\");\n    setPass(\"\");\n  }, []);\n  return React.createElement(SafeAreaView, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, React.createElement(Image, {\n    style: styles.img2,\n    source: require(\"../assets/imgs/sesi-senai-fundo.jpg\"),\n    blurRadius: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }), React.createElement(Image, {\n    style: styles.img,\n    source: require(\"../assets/imgs/senai-logo.png\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }), React.createElement(View, {\n    style: styles.formData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, React.createElement(TextInput, {\n    placeholder: \"Usu\\xE1rio\",\n    type: \"text\",\n    name: \"userInput\",\n    style: styles.textUser,\n    value: User,\n    onChangeText: function onChangeText(User) {\n      return setUser(User);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }), React.createElement(TextInput, {\n    placeholder: \"Senha\",\n    secureTextEntry: true,\n    name: \"passInput\",\n    style: styles.textPass,\n    value: Pass,\n    onChangeText: function onChangeText(Pass) {\n      return setPass(Pass);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  }), React.createElement(TouchableOpacity, {\n    onPress: User != \"\" && Pass != \"\" ? function () {\n      return authenticate();\n    } : function () {\n      return Alert.alert(\"Login Falhou\", \"Preencha Todos os campos\", [{\n        text: \"OK\"\n      }]);\n    },\n    style: styles.loginEnterBtn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: styles.textLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 199\n    }\n  }, \"OK\"))));\n}\nvar styles = StyleSheet.create({\n  container: {\n    width: '100%',\n    height: '100%',\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  img: {\n    zIndex: 20,\n    width: \"30%\",\n    margin: 0,\n    height: \"5%\",\n    top: \"10%\",\n    resizeMode: 'contain'\n  },\n  formData: {\n    width: \"100%\",\n    height: \"100%\",\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  textUser: {\n    backgroundColor: 'white',\n    width: \"80%\",\n    height: 60,\n    borderRadius: 50,\n    paddingStart: 15,\n    fontSize: 20,\n    marginBottom: 20\n  },\n  textPass: {\n    backgroundColor: 'white',\n    width: \"80%\",\n    height: 60,\n    borderRadius: 50,\n    paddingStart: 15,\n    fontSize: 20\n  },\n  loginEnterBtn: {\n    position: 'absolute',\n    width: '80%',\n    height: 50,\n    backgroundColor: '#FF0000',\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    fontSize: 20,\n    top: '70%',\n    borderRadius: 50\n  },\n  textLogin: {\n    color: 'white'\n  }\n});","map":{"version":3,"sources":["C:/Users/lfds/OneDrive/Área de Trabalho/pesquisa_opensource/components/login.js"],"names":["React","firebase","AsyncStorage","login","navigation","useState","User","setUser","Pass","setPass","database","firestore","createAcc","auth","createUserWithEmailAndPassword","then","userCredential","user","catch","error","setErrorLogin","errorCode","code","errorMessage","message","console","log","authenticate","signInWithEmailAndPassword","clear","setItem","email","push","Alert","alert","text","useEffect","styles","container","img2","require","img","formData","textUser","textPass","loginEnterBtn","textLogin","StyleSheet","create","width","height","flex","justifyContent","alignItems","zIndex","margin","top","resizeMode","backgroundColor","borderRadius","paddingStart","fontSize","marginBottom","position","color"],"mappings":"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","sourcesContent":["import * as React from 'react';\r\nimport { StyleSheet, View, Text, TouchableOpacity, Image,Alert, TextInput, SafeAreaView } from 'react-native';\r\nimport firebase from './connFireBase'\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nexport default function login({navigation}){\r\n    const [User, setUser] = React.useState(\"\");\r\n    const [Pass, setPass] = React.useState(null);\r\n    const database = firebase.firestore()\r\n    const createAcc = () => {\r\n        firebase.auth().createUserWithEmailAndPassword(User, Pass)\r\n        .then((userCredential) => {\r\n            let user = userCredential.user;\r\n        })\r\n        .catch((error) => {\r\n            setErrorLogin(true)\r\n            let errorCode = error.code;\r\n            let errorMessage = error.message;\r\n            console.log(errorMessage);  \r\n        });\r\n    }\r\n\r\n\r\n    const authenticate = () =>{\r\n        if(User !== null && Pass !== null ){\r\n            firebase.auth().signInWithEmailAndPassword(User, Pass)\r\n            .then(async(userCredential) => {\r\n            \r\n                let user = await userCredential.user;\r\n\r\n                AsyncStorage.clear();\r\n                await AsyncStorage.setItem(\"logedUser\", user.email);\r\n                \r\n                setUser(\"\");\r\n                setPass(\"\");\r\n                navigation.push(\"Home\")\r\n            })\r\n            .catch((error) => {\r\n                let errorCode = error.code;\r\n                let errorMessage = error.message;\r\n                Alert.alert(\r\n                    \"Login Falhou\",\r\n                    \"Usuário ou senha inválido\",\r\n                    [\r\n                    \r\n                    { text: \"OK\"}\r\n                    ]\r\n                );\r\n            });\r\n        }else{\r\n            Alert.alert(\r\n                \"Login Falhou\",\r\n                \"Preencha Todos os campos\",\r\n                [\r\n                \r\n                { text: \"OK\" }\r\n                ]\r\n            );\r\n        }\r\n    }\r\n    React.useEffect(() => {\r\n        setUser(\"\");\r\n        setPass(\"\");\r\n    }, []);\r\n    return(\r\n        <SafeAreaView style={styles.container}>\r\n            \r\n            <Image style={styles.img2} source={require('../assets/imgs/sesi-senai-fundo.jpg')} blurRadius={1}/>\r\n            <Image style={styles.img} source={require('../assets/imgs/senai-logo.png')}/>\r\n            <View style={styles.formData} >\r\n                \r\n\r\n                <TextInput placeholder=\"Usuário\" type=\"text\" name=\"userInput\" style={styles.textUser} value={User} onChangeText={(User)=> setUser(User)} />\r\n                <TextInput placeholder=\"Senha\" secureTextEntry={true}  name=\"passInput\" style={styles.textPass} value={Pass} onChangeText={(Pass)=> setPass(Pass)}/>\r\n                <TouchableOpacity onPress={User !=\"\" && Pass !=\"\" ? () => authenticate() : () => Alert.alert(\"Login Falhou\", \"Preencha Todos os campos\",[{text: \"OK\"}])} style={styles.loginEnterBtn}><Text style={styles.textLogin}>OK</Text></TouchableOpacity>\r\n            </View>\r\n        </SafeAreaView>\r\n    )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container:{\r\n        width: '100%',\r\n        height:'100%',\r\n        flex: 1,\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        \r\n    },  \r\n    img:{\r\n        zIndex: 20,\r\n        width: \"30%\",\r\n        margin:0,\r\n        height:\"5%\",\r\n        top: \"10%\",\r\n       \r\n        resizeMode:'contain'\r\n    },\r\n    formData:{\r\n        \r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        flex: 1,\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n    },  \r\n    textUser:{\r\n \r\n        backgroundColor: 'white',\r\n        width: \"80%\",\r\n        height: 60,\r\n        borderRadius: 50,\r\n        paddingStart: 15,\r\n        fontSize: 20,\r\n        marginBottom: 20\r\n    },\r\n    textPass:{\r\n        backgroundColor: 'white',\r\n        width: \"80%\",\r\n        height: 60,\r\n        borderRadius: 50,\r\n        paddingStart: 15,\r\n        fontSize: 20,\r\n\r\n\r\n    },\r\n    loginEnterBtn:{\r\n        position:'absolute',\r\n        width: '80%',\r\n        height: 50,\r\n        backgroundColor: '#FF0000',\r\n        \r\n        flex: 1,\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        fontSize: 20,\r\n        top: '70%',\r\n        borderRadius: 50,\r\n    },\r\n    textLogin:{\r\n        color: 'white',\r\n    }\r\n})"]},"metadata":{},"sourceType":"module"}